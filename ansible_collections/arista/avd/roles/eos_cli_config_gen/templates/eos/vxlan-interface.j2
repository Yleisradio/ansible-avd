{# eos- VxLAN interface #}
{% if vxlan_tunnel_interface is arista.avd.defined %}
!
interface Vxlan1
{%     if vxlan_tunnel_interface.Vxlan1.source_interface is arista.avd.defined %}
   vxlan source-interface {{ vxlan_tunnel_interface.Vxlan1.source_interface }}
{%     endif %}
{%     if vxlan_tunnel_interface.Vxlan1.virtual_router is arista.avd.defined %}
   vxlan virtual-router encapsulation mac-address {{ vxlan_tunnel_interface.Vxlan1.virtual_router.encapsulation_mac_address }}
{%     endif %}
{%     if vxlan_tunnel_interface.Vxlan1.vxlan_udp_port is arista.avd.defined %}
   vxlan udp-port {{ vxlan_tunnel_interface.Vxlan1.vxlan_udp_port }}
{%     endif %}
{%     for vlan in vxlan_tunnel_interface.Vxlan1.vxlan_vni_mappings.vlans | arista.avd.natural_sort %}
   vxlan vlan {{ vlan }} vni {{ vxlan_tunnel_interface.Vxlan1.vxlan_vni_mappings.vlans[vlan].vni }}
{%     endfor %}
{%     for vrf in vxlan_tunnel_interface.Vxlan1.vxlan_vni_mappings.vrfs | arista.avd.natural_sort %}
   vxlan vrf {{ vrf }} vni {{ vxlan_tunnel_interface.Vxlan1.vxlan_vni_mappings.vrfs[vrf].vni }}
{%     endfor %}
{%     if vxlan_tunnel_interface.Vxlan1.flood_vtep is arista.avd.defined %}
{%         if vxlan_tunnel_interface.Vxlan1.flood_vtep.vlans is arista.avd.defined %}
{%            for vlan in vxlan_tunnel_interface.Vxlan1.flood_vtep.vlans | arista.avd.natural_sort %}
   vxlan vlan {{ vlan }} flood vtep {{ vxlan_tunnel_interface.Vxlan1.flood_vtep.vlans[vlan].remotes | join(' ') }}
{%            endfor %}
{%         endif %}
{%         if vxlan_tunnel_interface.Vxlan1.flood_vtep.remotes is arista.avd.defined %}
   vxlan flood vtep {{ vxlan_tunnel_interface.Vxlan1.flood_vtep.remotes | join(' ') }}
{%         endif %}
{%    endif %}
{% endif %}
